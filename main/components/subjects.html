<script type="text/javascript" src="js/subjects.js?v=<?= $this->cacheBust; ?>"></script>
<br>
    <div class="container-fluid">
        <h3>Subjects
         <button id="btnAdd" data-toggle="modal" data-target="#addModal" class="btn btn-success"
            title='Add New Subject' style="float:right;"> <span class="fa fa-plus"></span> New Subject</button>
      
            </h3>
        <hr/>
        <div class="row">

          <div class="col-md-12 col-lg-12">
            <div class="card">
               
                <div class="card-body">
                    <p class="card-title"></p>

            <table class="table table-striped table-sm table-hover" id="subjectTable" width="100%">
              <thead>
                <tr>
                    <th>Code</th>
                    <th>Descriptions</th>
                    <th>Units</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody >
              
               
            </tbody>
           <tfoot>
                <tr>
                  <th>Code</th>
                  <th>Descriptions</th>
                  <th>Units</th>
                  <th>Action</th>
                </tr>
            </tfoot>
        </table>
      </div> </div> </div>

        </div>
    </div>
    

  <!-- Modal -->
<div id="addModal" class="modal fade" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog">
  
      <form method="post" id="formAdd">
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="modalTitle">Add New Subject</h5>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        
        </div>
        <div class="modal-body">
          
        
          <input type="hidden" id="hidden_id" />
          <input type="hidden" id="hidden_rowid" />
          <input type="hidden" id="hidden_menu" />
              
            <div class="row">
                <div class="col-sm-12"><label>Subject Code</label><input type="text" class="form-control" id="txtsubjcode" placeholder="Subject Code" /></div> 
          
            </div>
            <div class="row">
              <div class="col-sm-12"><label>Subject Description</label><input type="text" class="form-control" id="txtsubjdesc" placeholder="Description" /></div> 
        
          </div>

          <div class="row">
            <div class="col-sm-12"><label>Units</label><input type="number" class="form-control" id="txtunits" placeholder="Enter Units" required min="0" step=".01" pattern="^\d*\.?\d+$" /></div> 
        </div>
       
  
     
        <div class="modal-footer">
          <span id="msg"></span>
          <button type="submit" class="btn btn-success" id="btnModalSave" >Save</button>
          <button type="submit" class="btn btn-primary" id="btnModalUpdate" >Update</button>
          <button type="button" class="btn btn-secondary" data-dismiss="modal" id="btnModalClose" >Close</button>
        </div>
  
      </form>
    </div>
      </div>
  
    </div>
  </div>
  <!--End Add Modal-->

  <!--Schedule patient modal-->

<div class="modal fade" id="scheduleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog  modal-sm" role="document">
    <form method="post" id="formSchedule">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
        <h5 class="modal-title" id="exampleModalLabel"></h5>Schedule Patient</h5>
      
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
    
      <div class="modal-body">
        
        <input type="hidden" id="hidden_patient_id" />
        Patient Name: <strong><span id="lblPatientName"></span></strong><br>

        <div class="row">
          <div class="col-sm-12"> Temperature: <input type="number" class="form-control" id="txttemp" placeholder="Enter Temperature" required min="0" step=".01" pattern="^\d*\.?\d+$"/></div>
        </div>

        <div class="row">
          <div class="col-sm-12"> Weight: <input type="number" class="form-control" id="txtwt" placeholder="Enter Weight in kg" required min="0" step=".01" pattern="^\d*\.?\d+$"/></div>
        </div>

        <div class="row">
          <div class="col-sm-12"> Height: <input type="number" class="form-control" id="txtht" placeholder="Enter Height in cm" required min="0" step="0.1" pattern="^\d*\.?\d+$"/></div>
        </div>
        <div class="row">
          <div class="col-sm-12"> Head Circumference: <input type="number" class="form-control" id="txthead" placeholder="Enter Head Circumference in cm" required min="0" step="0.01" pattern="^\d*\.?\d+$"/></div>
        </div>
       
      </div>
      <div class="modal-footer">
        <button type="submit" class="btn btn-primary" id="btnScheduleSubmit">Schedule Patient</button>
        <button type="button" class="btn btn-secondary" data-dismiss="modal" id="btnScheduleClose">Close</button>
      </div>
      
    </div>
  </form>
  </div>
</div>
<!--End Schedule Patient Modal-->



<script>
  $(document).ready(function(){
 

    Processing_Modal("Loading!");

    var table = $("#subjectTable").DataTable( {
      responsive: true,
      columnDefs: [ {
          className: 'dtr-control'
      } ],
      order: [ 1, 'asc' ]
  } ); 
    load_subjects(table);
       

    Processing_Close(500);

 });
</script>
 
